{"version":3,"sources":["components/common/FormsControls/FormsControls.js","utils/validators/validators.js","components/Login/Login.jsx"],"names":["FormControl","input","meta","props","child","hasError","touched","error","className","children","class","Textarea","Input","restProps","type","Password","Checkbox","label","Check","checked","value","required","maxLengthCreator","maxLength","length","minLengthCreator","minLength","minLength2","minLength6","maxLength50","LoginReduxForm","reduxForm","form","handleSubmit","captchaUrl","onSubmit","Group","controlId","Label","component","name","placeholder","validate","src","onChange","role","variant","connect","state","isAuth","auth","login","logout","to","formData","email","password","rememberMe","captcha"],"mappings":"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","file":"static/js/7.1d6db8db.chunk.js","sourcesContent":["import React from \"react\";\r\nimport Form from 'react-bootstrap/Form';\r\n\r\nconst FormControl = ({ input, meta, child, ...props }) => {\r\n    const hasError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <div className='form-group'>\r\n            {props.children}\r\n            {hasError && <div class=\"invalid-feedback\">{meta.error}</div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n\r\n    const { input, meta, child, ...restProps } = props;\r\n    const hasError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <FormControl {...props}>\r\n            <textarea {...input} {...props} className={\"form-control\" + \" \" + (hasError ? 'is-invalid' : '')}></textarea>\r\n        </FormControl>\r\n    )\r\n}\r\n\r\nexport const Input = (props) => {\r\n\r\n    const { input, meta, child, ...restProps } = props;\r\n    const hasError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <FormControl {...props}>\r\n            <input type=\"text\" {...input} {...restProps} className={\"form-control\" + \" \" + (hasError ? 'is-invalid' : '')} />\r\n        </FormControl>\r\n    )\r\n}\r\n\r\nexport const Password = (props) => {\r\n\r\n    const { input, meta, child, ...restProps } = props;\r\n    const hasError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <FormControl {...props}>\r\n            <input type=\"password\" {...input} {...restProps} className={\"form-control\" + \" \" + (hasError ? 'is-invalid' : '')} />\r\n        </FormControl>\r\n    )\r\n}\r\n\r\nexport const Checkbox = (props) => {\r\n    const { input, meta, type, label, child, ...restProps } = props;\r\n    const hasError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <Form.Check {...props}\r\n            {...input} {...restProps}\r\n            type={\"checkbox\"}\r\n            checked={typeof input.value == 'undefined' ? false : input.value}\r\n        />\r\n    )\r\n}","export const required = value => {\r\n    if (value) return undefined;\r\n\r\n    return \"Field is required\";\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n\r\n    return undefined;\r\n}\r\n\r\nexport const minLengthCreator = (minLength) => (value) => {\r\n    if (value.length < minLength) return `Min length is ${minLength} symbols`;\r\n\r\n    return undefined;\r\n}\r\n\r\n","import React from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { connect } from 'react-redux';\r\nimport { reduxForm, Field } from 'redux-form';\r\nimport { login, logout } from '../../redux/auth-reducer';\r\n\r\nimport { minLengthCreator, maxLengthCreator, required } from \"../../utils/validators/validators\";\r\nimport { Input, Password } from \"../common/FormsControls/FormsControls\";\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst minLength2 = minLengthCreator(2);\r\nconst minLength6 = minLengthCreator(6);\r\nconst maxLength50 = maxLengthCreator(50);\r\n\r\nconst LoginForm = ({ handleSubmit, error, captchaUrl }) => {\r\n\r\n    const ReduxFormControl = ({ input, meta, type, placeholder, min, max }) => {\r\n        return (\r\n            <Form.Control\r\n                type={type}\r\n                name={input.name}\r\n                placeholder={placeholder}\r\n                min={min}\r\n                max={max}\r\n                value={input.value}\r\n                onChange={input.onChange} />\r\n        )\r\n    }\r\n\r\n    const ReduxFormCheckbox = ({ input, meta, type, label }) => {\r\n        return (\r\n            <Form.Check\r\n                type={type}\r\n                name={input.name}\r\n                label={label}\r\n                value={input.value}\r\n                checked={input.checked}\r\n                onChange={input.onChange} />\r\n        )\r\n    }\r\n\r\n    return <Form onSubmit={handleSubmit}>\r\n        <Form.Group controlId=\"formBasicLogin\">\r\n            <Form.Label>Login</Form.Label>\r\n            <Field\r\n                component={Input}\r\n                name={\"email\"}\r\n                type={\"email\"}\r\n                placeholder=\"Login\"\r\n                validate={[required, minLength2, maxLength50]}\r\n            />\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId=\"formBasicPassword\">\r\n            <Form.Label>Password</Form.Label>\r\n            <Field\r\n                component={Password}\r\n                name={\"password\"}\r\n                type={\"password\"}\r\n                placeholder=\"Password\"\r\n                validate={[required, minLength6, maxLength50]}\r\n            />\r\n        </Form.Group>\r\n\r\n        { captchaUrl &&\r\n            <>\r\n                <img src={captchaUrl} />\r\n                <Form.Group controlId=\"formBasicPassword\">\r\n                    <Form.Label>Captcha</Form.Label>\r\n                    <Field\r\n                        component={Password}\r\n                        name={\"captcha\"}\r\n                        type={\"text\"}\r\n                        placeholder=\"\"\r\n                        validate={[required]}\r\n                    />\r\n                </Form.Group>\r\n            </>\r\n        }\r\n\r\n        <Form.Group controlId=\"formBasicCheckbox\">\r\n            <Field component={ReduxFormCheckbox} name={\"rememberMe\"} type={\"checkbox\"} label={\"Remember me\"} />\r\n        </Form.Group>\r\n\r\n        { error &&\r\n            <div class=\"alert alert-danger\" role=\"alert\">\r\n                {error}\r\n            </div>\r\n        }\r\n\r\n        <Button variant=\"primary\" type=\"submit\">\r\n            Submit\r\n        </Button>\r\n    </Form>\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({ form: 'login' })(LoginForm);\r\n\r\nconst Login = (props) => {\r\n\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha);\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"} />\r\n    }\r\n\r\n    return <Container>\r\n        <Row>\r\n            <Col>\r\n                <h1>Login</h1>\r\n                <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n            </Col>\r\n        </Row>\r\n    </Container>;\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    captchaUrl: state.auth.captchaUrl\r\n});\r\n\r\nexport default connect(mapStateToProps, { login, logout })(Login);"],"sourceRoot":""}